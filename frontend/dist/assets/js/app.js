/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 0.7.1
 * Copyright (C) 2016 Oliver Nightingale
 * @license MIT
 */
!function(){var t=function(e){var n=new t.Index;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(n,n),n};t.version="0.7.1",t.utils={},t.utils.warn=function(t){return function(e){t.console&&console.warn&&console.warn(e)}}(this),t.utils.asString=function(t){return void 0===t||null===t?"":t.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=t;if("function"!=typeof e)throw new TypeError("last argument must be a function");n.forEach(function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(e)},this)},t.EventEmitter.prototype.removeListener=function(t,e){if(this.hasHandler(t)){var n=this.events[t].indexOf(e);this.events[t].splice(n,1),this.events[t].length||delete this.events[t]}},t.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var e=Array.prototype.slice.call(arguments,1);this.events[t].forEach(function(t){t.apply(void 0,e)})}},t.EventEmitter.prototype.hasHandler=function(t){return t in this.events},t.tokenizer=function(e){return arguments.length&&null!=e&&void 0!=e?Array.isArray(e)?e.map(function(e){return t.utils.asString(e).toLowerCase()}):e.toString().trim().toLowerCase().split(t.tokenizer.seperator):[]},t.tokenizer.seperator=/[\s\-]+/,t.tokenizer.load=function(t){var e=this.registeredFunctions[t];if(!e)throw new Error("Cannot load un-registered function: "+t);return e},t.tokenizer.label="default",t.tokenizer.registeredFunctions={"default":t.tokenizer},t.tokenizer.registerFunction=function(e,n){n in this.registeredFunctions&&t.utils.warn("Overwriting existing tokenizer: "+n),e.label=n,this.registeredFunctions[n]=e},t.Pipeline=function(){this._stack=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,n){n in this.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[e.label]=e},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(e){var i=t.Pipeline.registeredFunctions[e];if(!i)throw new Error("Cannot load un-registered function: "+e);n.add(i)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._stack.indexOf(e);if(-1==i)throw new Error("Cannot find existingFn");i+=1,this._stack.splice(i,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._stack.indexOf(e);if(-1==i)throw new Error("Cannot find existingFn");this._stack.splice(i,0,n)},t.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);-1!=e&&this._stack.splice(e,1)},t.Pipeline.prototype.run=function(t){for(var e=[],n=t.length,i=this._stack.length,r=0;n>r;r++){for(var o=t[r],s=0;i>s&&(o=this._stack[s](o,r,t),void 0!==o&&""!==o);s++);void 0!==o&&""!==o&&e.push(o)}return e},t.Pipeline.prototype.reset=function(){this._stack=[]},t.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},t.Vector.Node=function(t,e,n){this.idx=t,this.val=e,this.next=n},t.Vector.prototype.insert=function(e,n){this._magnitude=void 0;var i=this.list;if(!i)return this.list=new t.Vector.Node(e,n,i),this.length++;if(e<i.idx)return this.list=new t.Vector.Node(e,n,i),this.length++;for(var r=i,o=i.next;void 0!=o;){if(e<o.idx)return r.next=new t.Vector.Node(e,n,o),this.length++;r=o,o=o.next}return r.next=new t.Vector.Node(e,n,o),this.length++},t.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t,e=this.list,n=0;e;)t=e.val,n+=t*t,e=e.next;return this._magnitude=Math.sqrt(n)},t.Vector.prototype.dot=function(t){for(var e=this.list,n=t.list,i=0;e&&n;)e.idx<n.idx?e=e.next:e.idx>n.idx?n=n.next:(i+=e.val*n.val,e=e.next,n=n.next);return i},t.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())},t.SortedSet=function(){this.length=0,this.elements=[]},t.SortedSet.load=function(t){var e=new this;return e.elements=t,e.length=t.length,e},t.SortedSet.prototype.add=function(){var t,e;for(t=0;t<arguments.length;t++)e=arguments[t],~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e);this.length=this.elements.length},t.SortedSet.prototype.toArray=function(){return this.elements.slice()},t.SortedSet.prototype.map=function(t,e){return this.elements.map(t,e)},t.SortedSet.prototype.forEach=function(t,e){return this.elements.forEach(t,e)},t.SortedSet.prototype.indexOf=function(t){for(var e=0,n=this.elements.length,i=n-e,r=e+Math.floor(i/2),o=this.elements[r];i>1;){if(o===t)return r;t>o&&(e=r),o>t&&(n=r),i=n-e,r=e+Math.floor(i/2),o=this.elements[r]}return o===t?r:-1},t.SortedSet.prototype.locationFor=function(t){for(var e=0,n=this.elements.length,i=n-e,r=e+Math.floor(i/2),o=this.elements[r];i>1;)t>o&&(e=r),o>t&&(n=r),i=n-e,r=e+Math.floor(i/2),o=this.elements[r];return o>t?r:t>o?r+1:void 0},t.SortedSet.prototype.intersect=function(e){for(var n=new t.SortedSet,i=0,r=0,o=this.length,s=e.length,a=this.elements,h=e.elements;;){if(i>o-1||r>s-1)break;a[i]!==h[r]?a[i]<h[r]?i++:a[i]>h[r]&&r++:(n.add(a[i]),i++,r++)}return n},t.SortedSet.prototype.clone=function(){var e=new t.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},t.SortedSet.prototype.union=function(t){var e,n,i;this.length>=t.length?(e=this,n=t):(e=t,n=this),i=e.clone();for(var r=0,o=n.toArray();r<o.length;r++)i.add(o[r]);return i},t.SortedSet.prototype.toJSON=function(){return this.toArray()},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.Store,this.tokenStore=new t.TokenStore,this.corpusTokens=new t.SortedSet,this.eventEmitter=new t.EventEmitter,this.tokenizerFn=t.tokenizer,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},t.Index.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var n=new this;return n._fields=e.fields,n._ref=e.ref,n.tokenizer=t.tokenizer.load(e.tokenizer),n.documentStore=t.Store.load(e.documentStore),n.tokenStore=t.TokenStore.load(e.tokenStore),n.corpusTokens=t.SortedSet.load(e.corpusTokens),n.pipeline=t.Pipeline.load(e.pipeline),n},t.Index.prototype.field=function(t,e){var e=e||{},n={name:t,boost:e.boost||1};return this._fields.push(n),this},t.Index.prototype.ref=function(t){return this._ref=t,this},t.Index.prototype.tokenizer=function(e){var n=e.label&&e.label in t.tokenizer.registeredFunctions;return n||t.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=e,this},t.Index.prototype.add=function(e,n){var i={},r=new t.SortedSet,o=e[this._ref],n=void 0===n?!0:n;this._fields.forEach(function(t){var n=this.pipeline.run(this.tokenizerFn(e[t.name]));i[t.name]=n;for(var o=0;o<n.length;o++){var s=n[o];r.add(s),this.corpusTokens.add(s)}},this),this.documentStore.set(o,r);for(var s=0;s<r.length;s++){for(var a=r.elements[s],h=0,u=0;u<this._fields.length;u++){var l=this._fields[u],c=i[l.name],f=c.length;if(f){for(var d=0,p=0;f>p;p++)c[p]===a&&d++;h+=d/f*l.boost}}this.tokenStore.add(a,{ref:o,tf:h})}n&&this.eventEmitter.emit("add",e,this)},t.Index.prototype.remove=function(t,e){var n=t[this._ref],e=void 0===e?!0:e;if(this.documentStore.has(n)){var i=this.documentStore.get(n);this.documentStore.remove(n),i.forEach(function(t){this.tokenStore.remove(t,n)},this),e&&this.eventEmitter.emit("remove",t,this)}},t.Index.prototype.update=function(t,e){var e=void 0===e?!0:e;this.remove(t,!1),this.add(t,!1),e&&this.eventEmitter.emit("update",t,this)},t.Index.prototype.idf=function(t){var e="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,e))return this._idfCache[e];var n=this.tokenStore.count(t),i=1;return n>0&&(i=1+Math.log(this.documentStore.length/n)),this._idfCache[e]=i},t.Index.prototype.search=function(e){var n=this.pipeline.run(this.tokenizerFn(e)),i=new t.Vector,r=[],o=this._fields.reduce(function(t,e){return t+e.boost},0),s=n.some(function(t){return this.tokenStore.has(t)},this);if(!s)return[];n.forEach(function(e,n,s){var a=1/s.length*this._fields.length*o,h=this,u=this.tokenStore.expand(e).reduce(function(n,r){var o=h.corpusTokens.indexOf(r),s=h.idf(r),u=1,l=new t.SortedSet;if(r!==e){var c=Math.max(3,r.length-e.length);u=1/Math.log(c)}o>-1&&i.insert(o,a*s*u);for(var f=h.tokenStore.get(r),d=Object.keys(f),p=d.length,v=0;p>v;v++)l.add(f[d[v]].ref);return n.union(l)},new t.SortedSet);r.push(u)},this);var a=r.reduce(function(t,e){return t.intersect(e)});return a.map(function(t){return{ref:t,score:i.similarity(this.documentVector(t))}},this).sort(function(t,e){return e.score-t.score})},t.Index.prototype.documentVector=function(e){for(var n=this.documentStore.get(e),i=n.length,r=new t.Vector,o=0;i>o;o++){var s=n.elements[o],a=this.tokenStore.get(s)[e].tf,h=this.idf(s);r.insert(this.corpusTokens.indexOf(s),a*h)}return r},t.Index.prototype.toJSON=function(){return{version:t.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(t){var e=Array.prototype.slice.call(arguments,1);e.unshift(this),t.apply(this,e)},t.Store=function(){this.store={},this.length=0},t.Store.load=function(e){var n=new this;return n.length=e.length,n.store=Object.keys(e.store).reduce(function(n,i){return n[i]=t.SortedSet.load(e.store[i]),n},{}),n},t.Store.prototype.set=function(t,e){this.has(t)||this.length++,this.store[t]=e},t.Store.prototype.get=function(t){return this.store[t]},t.Store.prototype.has=function(t){return t in this.store},t.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},t.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},t.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",r=n+"[^aeiouy]*",o=i+"[aeiou]*",s="^("+r+")?"+o+r,a="^("+r+")?"+o+r+"("+o+")?$",h="^("+r+")?"+o+r+o+r,u="^("+r+")?"+i,l=new RegExp(s),c=new RegExp(h),f=new RegExp(a),d=new RegExp(u),p=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,m=/^(.+?)(ed|ing)$/,y=/.$/,S=/(at|bl|iz)$/,w=new RegExp("([^aeiouylsz])\\1$"),k=new RegExp("^"+r+i+"[^aeiouwxy]$"),x=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,F=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,_=/^(.+?)(s|t)(ion)$/,z=/^(.+?)e$/,O=/ll$/,P=new RegExp("^"+r+i+"[^aeiouwxy]$"),T=function(n){var i,r,o,s,a,h,u;if(n.length<3)return n;if(o=n.substr(0,1),"y"==o&&(n=o.toUpperCase()+n.substr(1)),s=p,a=v,s.test(n)?n=n.replace(s,"$1$2"):a.test(n)&&(n=n.replace(a,"$1$2")),s=g,a=m,s.test(n)){var T=s.exec(n);s=l,s.test(T[1])&&(s=y,n=n.replace(s,""))}else if(a.test(n)){var T=a.exec(n);i=T[1],a=d,a.test(i)&&(n=i,a=S,h=w,u=k,a.test(n)?n+="e":h.test(n)?(s=y,n=n.replace(s,"")):u.test(n)&&(n+="e"))}if(s=x,s.test(n)){var T=s.exec(n);i=T[1],n=i+"i"}if(s=b,s.test(n)){var T=s.exec(n);i=T[1],r=T[2],s=l,s.test(i)&&(n=i+t[r])}if(s=E,s.test(n)){var T=s.exec(n);i=T[1],r=T[2],s=l,s.test(i)&&(n=i+e[r])}if(s=F,a=_,s.test(n)){var T=s.exec(n);i=T[1],s=c,s.test(i)&&(n=i)}else if(a.test(n)){var T=a.exec(n);i=T[1]+T[2],a=c,a.test(i)&&(n=i)}if(s=z,s.test(n)){var T=s.exec(n);i=T[1],s=c,a=f,h=P,(s.test(i)||a.test(i)&&!h.test(i))&&(n=i)}return s=O,a=c,s.test(n)&&a.test(n)&&(s=y,n=n.replace(s,"")),"y"==o&&(n=o.toLowerCase()+n.substr(1)),n};return T}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.generateStopWordFilter=function(t){var e=t.reduce(function(t,e){return t[e]=e,t},{});return function(t){return t&&e[t]!==t?t:void 0}},t.stopWordFilter=t.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.TokenStore=function(){this.root={docs:{}},this.length=0},t.TokenStore.load=function(t){var e=new this;return e.root=t.root,e.length=t.length,e},t.TokenStore.prototype.add=function(t,e,n){var n=n||this.root,i=t.charAt(0),r=t.slice(1);return i in n||(n[i]={docs:{}}),0===r.length?(n[i].docs[e.ref]=e,void(this.length+=1)):this.add(r,e,n[i])},t.TokenStore.prototype.has=function(t){if(!t)return!1;for(var e=this.root,n=0;n<t.length;n++){if(!e[t.charAt(n)])return!1;e=e[t.charAt(n)]}return!0},t.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var e=this.root,n=0;n<t.length;n++){if(!e[t.charAt(n)])return{};e=e[t.charAt(n)]}return e},t.TokenStore.prototype.get=function(t,e){return this.getNode(t,e).docs||{}},t.TokenStore.prototype.count=function(t,e){return Object.keys(this.get(t,e)).length},t.TokenStore.prototype.remove=function(t,e){if(t){for(var n=this.root,i=0;i<t.length;i++){if(!(t.charAt(i)in n))return;n=n[t.charAt(i)]}delete n.docs[e]}},t.TokenStore.prototype.expand=function(t,e){var n=this.getNode(t),i=n.docs||{},e=e||[];return Object.keys(i).length&&e.push(t),Object.keys(n).forEach(function(n){"docs"!==n&&e.concat(this.expand(t+n,e))},this),e},t.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.lunr=e()}(this,function(){return t})}();
'use strict';

function hasClass(el, className) {
  if (el.classList) return el.classList.contains(className);else return !!el.className.match(new RegExp('(\\s|^)' + className + '(\\s|$)'));
}

function addClass(el, className) {
  if (el.classList) el.classList.add(className);else if (!hasClass(el, className)) el.className += " " + className;
}

function removeClass(el, className) {
  if (el.classList) el.classList.remove(className);else if (hasClass(el, className)) {
    var reg = new RegExp('(\\s|^)' + className + '(\\s|$)');
    el.className = el.className.replace(reg, ' ');
  }
}

var navClickEventHandler = function navClickEventHandler(event) {
  if (!hasClass(this, 'is-active')) {
    addClass(this, 'is-active');
    addClass(document.querySelector('.body'), 'is-active');
    addClass(document.body, 'fixed');
  } else {
    removeClass(document.body, 'fixed');
    removeClass(this, 'is-active');
    removeClass(document.querySelector('.body'), 'is-active');
  }
  event.stopPropagation();
};

var removeOpenClasses = function removeOpenClasses(event) {
  removeClass(document.body, 'fixed');
  removeClass(document.querySelector('.nav-toggle'), 'is-active');
  removeClass(document.querySelector('.body'), 'is-active');
};

document.querySelector('.nav-toggle').addEventListener('click', navClickEventHandler);
window.addEventListener('resize', removeOpenClasses);
document.querySelector('.side-nav').addEventListener('click', removeOpenClasses);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImx1bnIubWluLmpzIiwiYXBwLmpzIl0sIm5hbWVzIjpbImhhc0NsYXNzIiwiZWwiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIm1hdGNoIiwiUmVnRXhwIiwiYWRkQ2xhc3MiLCJhZGQiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsInJlZyIsInJlcGxhY2UiLCJuYXZDbGlja0V2ZW50SGFuZGxlciIsImV2ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYm9keSIsInN0b3BQcm9wYWdhdGlvbiIsInJlbW92ZU9wZW5DbGFzc2VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNMQSxTQUFTQSxRQUFULENBQWtCQyxFQUFsQixFQUFzQkMsU0FBdEIsRUFBaUM7QUFDL0IsTUFBSUQsR0FBR0UsU0FBUCxFQUNFLE9BQU9GLEdBQUdFLFNBQUgsQ0FBYUMsUUFBYixDQUFzQkYsU0FBdEIsQ0FBUCxDQURGLEtBR0UsT0FBTyxDQUFDLENBQUNELEdBQUdDLFNBQUgsQ0FBYUcsS0FBYixDQUFtQixJQUFJQyxNQUFKLENBQVcsWUFBWUosU0FBWixHQUF3QixTQUFuQyxDQUFuQixDQUFUO0FBQ0g7O0FBRUQsU0FBU0ssUUFBVCxDQUFrQk4sRUFBbEIsRUFBc0JDLFNBQXRCLEVBQWlDO0FBQy9CLE1BQUlELEdBQUdFLFNBQVAsRUFDRUYsR0FBR0UsU0FBSCxDQUFhSyxHQUFiLENBQWlCTixTQUFqQixFQURGLEtBRUssSUFBSSxDQUFDRixTQUFTQyxFQUFULEVBQWFDLFNBQWIsQ0FBTCxFQUE4QkQsR0FBR0MsU0FBSCxJQUFnQixNQUFNQSxTQUF0QjtBQUNwQzs7QUFFRCxTQUFTTyxXQUFULENBQXFCUixFQUFyQixFQUF5QkMsU0FBekIsRUFBb0M7QUFDbEMsTUFBSUQsR0FBR0UsU0FBUCxFQUNFRixHQUFHRSxTQUFILENBQWFPLE1BQWIsQ0FBb0JSLFNBQXBCLEVBREYsS0FFSyxJQUFJRixTQUFTQyxFQUFULEVBQWFDLFNBQWIsQ0FBSixFQUE2QjtBQUNoQyxRQUFJUyxNQUFNLElBQUlMLE1BQUosQ0FBVyxZQUFZSixTQUFaLEdBQXdCLFNBQW5DLENBQVY7QUFDQUQsT0FBR0MsU0FBSCxHQUFhRCxHQUFHQyxTQUFILENBQWFVLE9BQWIsQ0FBcUJELEdBQXJCLEVBQTBCLEdBQTFCLENBQWI7QUFDRDtBQUNGOztBQUVELElBQUlFLHVCQUF1QixTQUF2QkEsb0JBQXVCLENBQVNDLEtBQVQsRUFBZ0I7QUFDdkMsTUFBSSxDQUFDZCxTQUFTLElBQVQsRUFBZSxXQUFmLENBQUwsRUFBa0M7QUFDaENPLGFBQVMsSUFBVCxFQUFlLFdBQWY7QUFDQUEsYUFBU1EsU0FBU0MsYUFBVCxDQUF1QixPQUF2QixDQUFULEVBQTBDLFdBQTFDO0FBQ0FULGFBQVNRLFNBQVNFLElBQWxCLEVBQXdCLE9BQXhCO0FBQ0QsR0FKRCxNQUlPO0FBQ0xSLGdCQUFZTSxTQUFTRSxJQUFyQixFQUEyQixPQUEzQjtBQUNBUixnQkFBWSxJQUFaLEVBQWtCLFdBQWxCO0FBQ0FBLGdCQUFZTSxTQUFTQyxhQUFULENBQXVCLE9BQXZCLENBQVosRUFBNkMsV0FBN0M7QUFDRDtBQUNERixRQUFNSSxlQUFOO0FBQ0gsQ0FYRDs7QUFhQSxJQUFJQyxvQkFBb0IsU0FBcEJBLGlCQUFvQixDQUFTTCxLQUFULEVBQWdCO0FBQ3RDTCxjQUFZTSxTQUFTRSxJQUFyQixFQUEyQixPQUEzQjtBQUNBUixjQUFZTSxTQUFTQyxhQUFULENBQXVCLGFBQXZCLENBQVosRUFBbUQsV0FBbkQ7QUFDQVAsY0FBWU0sU0FBU0MsYUFBVCxDQUF1QixPQUF2QixDQUFaLEVBQTZDLFdBQTdDO0FBQ0QsQ0FKRDs7QUFNQUQsU0FBU0MsYUFBVCxDQUF1QixhQUF2QixFQUFzQ0ksZ0JBQXRDLENBQXVELE9BQXZELEVBQWdFUCxvQkFBaEU7QUFDQVEsT0FBT0QsZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0NELGlCQUFsQztBQUNBSixTQUFTQyxhQUFULENBQXVCLFdBQXZCLEVBQW9DSSxnQkFBcEMsQ0FBcUQsT0FBckQsRUFBOERELGlCQUE5RCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGx1bnIgLSBodHRwOi8vbHVucmpzLmNvbSAtIEEgYml0IGxpa2UgU29sciwgYnV0IG11Y2ggc21hbGxlciBhbmQgbm90IGFzIGJyaWdodCAtIDAuNy4xXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgT2xpdmVyIE5pZ2h0aW5nYWxlXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuIWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIG49bmV3IHQuSW5kZXg7cmV0dXJuIG4ucGlwZWxpbmUuYWRkKHQudHJpbW1lcix0LnN0b3BXb3JkRmlsdGVyLHQuc3RlbW1lciksZSYmZS5jYWxsKG4sbiksbn07dC52ZXJzaW9uPVwiMC43LjFcIix0LnV0aWxzPXt9LHQudXRpbHMud2Fybj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dC5jb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihlKX19KHRoaXMpLHQudXRpbHMuYXNTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXR8fG51bGw9PT10P1wiXCI6dC50b1N0cmluZygpfSx0LkV2ZW50RW1pdHRlcj1mdW5jdGlvbigpe3RoaXMuZXZlbnRzPXt9fSx0LkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGU9dC5wb3AoKSxuPXQ7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibGFzdCBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7bi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMuaGFzSGFuZGxlcih0KXx8KHRoaXMuZXZlbnRzW3RdPVtdKSx0aGlzLmV2ZW50c1t0XS5wdXNoKGUpfSx0aGlzKX0sdC5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5oYXNIYW5kbGVyKHQpKXt2YXIgbj10aGlzLmV2ZW50c1t0XS5pbmRleE9mKGUpO3RoaXMuZXZlbnRzW3RdLnNwbGljZShuLDEpLHRoaXMuZXZlbnRzW3RdLmxlbmd0aHx8ZGVsZXRlIHRoaXMuZXZlbnRzW3RdfX0sdC5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5oYXNIYW5kbGVyKHQpKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7dGhpcy5ldmVudHNbdF0uZm9yRWFjaChmdW5jdGlvbih0KXt0LmFwcGx5KHZvaWQgMCxlKX0pfX0sdC5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmhhc0hhbmRsZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gdGhpcy5ldmVudHN9LHQudG9rZW5pemVyPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZudWxsIT1lJiZ2b2lkIDAhPWU/QXJyYXkuaXNBcnJheShlKT9lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdC51dGlscy5hc1N0cmluZyhlKS50b0xvd2VyQ2FzZSgpfSk6ZS50b1N0cmluZygpLnRyaW0oKS50b0xvd2VyQ2FzZSgpLnNwbGl0KHQudG9rZW5pemVyLnNlcGVyYXRvcik6W119LHQudG9rZW5pemVyLnNlcGVyYXRvcj0vW1xcc1xcLV0rLyx0LnRva2VuaXplci5sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVnaXN0ZXJlZEZ1bmN0aW9uc1t0XTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgbG9hZCB1bi1yZWdpc3RlcmVkIGZ1bmN0aW9uOiBcIit0KTtyZXR1cm4gZX0sdC50b2tlbml6ZXIubGFiZWw9XCJkZWZhdWx0XCIsdC50b2tlbml6ZXIucmVnaXN0ZXJlZEZ1bmN0aW9ucz17XCJkZWZhdWx0XCI6dC50b2tlbml6ZXJ9LHQudG9rZW5pemVyLnJlZ2lzdGVyRnVuY3Rpb249ZnVuY3Rpb24oZSxuKXtuIGluIHRoaXMucmVnaXN0ZXJlZEZ1bmN0aW9ucyYmdC51dGlscy53YXJuKFwiT3ZlcndyaXRpbmcgZXhpc3RpbmcgdG9rZW5pemVyOiBcIituKSxlLmxhYmVsPW4sdGhpcy5yZWdpc3RlcmVkRnVuY3Rpb25zW25dPWV9LHQuUGlwZWxpbmU9ZnVuY3Rpb24oKXt0aGlzLl9zdGFjaz1bXX0sdC5QaXBlbGluZS5yZWdpc3RlcmVkRnVuY3Rpb25zPXt9LHQuUGlwZWxpbmUucmVnaXN0ZXJGdW5jdGlvbj1mdW5jdGlvbihlLG4pe24gaW4gdGhpcy5yZWdpc3RlcmVkRnVuY3Rpb25zJiZ0LnV0aWxzLndhcm4oXCJPdmVyd3JpdGluZyBleGlzdGluZyByZWdpc3RlcmVkIGZ1bmN0aW9uOiBcIituKSxlLmxhYmVsPW4sdC5QaXBlbGluZS5yZWdpc3RlcmVkRnVuY3Rpb25zW2UubGFiZWxdPWV9LHQuUGlwZWxpbmUud2FybklmRnVuY3Rpb25Ob3RSZWdpc3RlcmVkPWZ1bmN0aW9uKGUpe3ZhciBuPWUubGFiZWwmJmUubGFiZWwgaW4gdGhpcy5yZWdpc3RlcmVkRnVuY3Rpb25zO258fHQudXRpbHMud2FybihcIkZ1bmN0aW9uIGlzIG5vdCByZWdpc3RlcmVkIHdpdGggcGlwZWxpbmUuIFRoaXMgbWF5IGNhdXNlIHByb2JsZW1zIHdoZW4gc2VyaWFsaXNpbmcgdGhlIGluZGV4LlxcblwiLGUpfSx0LlBpcGVsaW5lLmxvYWQ9ZnVuY3Rpb24oZSl7dmFyIG49bmV3IHQuUGlwZWxpbmU7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT10LlBpcGVsaW5lLnJlZ2lzdGVyZWRGdW5jdGlvbnNbZV07aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGxvYWQgdW4tcmVnaXN0ZXJlZCBmdW5jdGlvbjogXCIrZSk7bi5hZGQoaSl9KSxufSx0LlBpcGVsaW5lLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2UuZm9yRWFjaChmdW5jdGlvbihlKXt0LlBpcGVsaW5lLndhcm5JZkZ1bmN0aW9uTm90UmVnaXN0ZXJlZChlKSx0aGlzLl9zdGFjay5wdXNoKGUpfSx0aGlzKX0sdC5QaXBlbGluZS5wcm90b3R5cGUuYWZ0ZXI9ZnVuY3Rpb24oZSxuKXt0LlBpcGVsaW5lLndhcm5JZkZ1bmN0aW9uTm90UmVnaXN0ZXJlZChuKTt2YXIgaT10aGlzLl9zdGFjay5pbmRleE9mKGUpO2lmKC0xPT1pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIGV4aXN0aW5nRm5cIik7aSs9MSx0aGlzLl9zdGFjay5zcGxpY2UoaSwwLG4pfSx0LlBpcGVsaW5lLnByb3RvdHlwZS5iZWZvcmU9ZnVuY3Rpb24oZSxuKXt0LlBpcGVsaW5lLndhcm5JZkZ1bmN0aW9uTm90UmVnaXN0ZXJlZChuKTt2YXIgaT10aGlzLl9zdGFjay5pbmRleE9mKGUpO2lmKC0xPT1pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIGV4aXN0aW5nRm5cIik7dGhpcy5fc3RhY2suc3BsaWNlKGksMCxuKX0sdC5QaXBlbGluZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0YWNrLmluZGV4T2YodCk7LTEhPWUmJnRoaXMuX3N0YWNrLnNwbGljZShlLDEpfSx0LlBpcGVsaW5lLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgsaT10aGlzLl9zdGFjay5sZW5ndGgscj0wO24+cjtyKyspe2Zvcih2YXIgbz10W3JdLHM9MDtpPnMmJihvPXRoaXMuX3N0YWNrW3NdKG8scix0KSx2b2lkIDAhPT1vJiZcIlwiIT09byk7cysrKTt2b2lkIDAhPT1vJiZcIlwiIT09byYmZS5wdXNoKG8pfXJldHVybiBlfSx0LlBpcGVsaW5lLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YWNrPVtdfSx0LlBpcGVsaW5lLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhY2subWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LlBpcGVsaW5lLndhcm5JZkZ1bmN0aW9uTm90UmVnaXN0ZXJlZChlKSxlLmxhYmVsfSl9LHQuVmVjdG9yPWZ1bmN0aW9uKCl7dGhpcy5fbWFnbml0dWRlPW51bGwsdGhpcy5saXN0PXZvaWQgMCx0aGlzLmxlbmd0aD0wfSx0LlZlY3Rvci5Ob2RlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmlkeD10LHRoaXMudmFsPWUsdGhpcy5uZXh0PW59LHQuVmVjdG9yLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oZSxuKXt0aGlzLl9tYWduaXR1ZGU9dm9pZCAwO3ZhciBpPXRoaXMubGlzdDtpZighaSlyZXR1cm4gdGhpcy5saXN0PW5ldyB0LlZlY3Rvci5Ob2RlKGUsbixpKSx0aGlzLmxlbmd0aCsrO2lmKGU8aS5pZHgpcmV0dXJuIHRoaXMubGlzdD1uZXcgdC5WZWN0b3IuTm9kZShlLG4saSksdGhpcy5sZW5ndGgrKztmb3IodmFyIHI9aSxvPWkubmV4dDt2b2lkIDAhPW87KXtpZihlPG8uaWR4KXJldHVybiByLm5leHQ9bmV3IHQuVmVjdG9yLk5vZGUoZSxuLG8pLHRoaXMubGVuZ3RoKys7cj1vLG89by5uZXh0fXJldHVybiByLm5leHQ9bmV3IHQuVmVjdG9yLk5vZGUoZSxuLG8pLHRoaXMubGVuZ3RoKyt9LHQuVmVjdG9yLnByb3RvdHlwZS5tYWduaXR1ZGU9ZnVuY3Rpb24oKXtpZih0aGlzLl9tYWduaXR1ZGUpcmV0dXJuIHRoaXMuX21hZ25pdHVkZTtmb3IodmFyIHQsZT10aGlzLmxpc3Qsbj0wO2U7KXQ9ZS52YWwsbis9dCp0LGU9ZS5uZXh0O3JldHVybiB0aGlzLl9tYWduaXR1ZGU9TWF0aC5zcXJ0KG4pfSx0LlZlY3Rvci5wcm90b3R5cGUuZG90PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmxpc3Qsbj10Lmxpc3QsaT0wO2UmJm47KWUuaWR4PG4uaWR4P2U9ZS5uZXh0OmUuaWR4Pm4uaWR4P249bi5uZXh0OihpKz1lLnZhbCpuLnZhbCxlPWUubmV4dCxuPW4ubmV4dCk7cmV0dXJuIGl9LHQuVmVjdG9yLnByb3RvdHlwZS5zaW1pbGFyaXR5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRvdCh0KS8odGhpcy5tYWduaXR1ZGUoKSp0Lm1hZ25pdHVkZSgpKX0sdC5Tb3J0ZWRTZXQ9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wLHRoaXMuZWxlbWVudHM9W119LHQuU29ydGVkU2V0LmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHRoaXM7cmV0dXJuIGUuZWxlbWVudHM9dCxlLmxlbmd0aD10Lmxlbmd0aCxlfSx0LlNvcnRlZFNldC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IodD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZT1hcmd1bWVudHNbdF0sfnRoaXMuaW5kZXhPZihlKXx8dGhpcy5lbGVtZW50cy5zcGxpY2UodGhpcy5sb2NhdGlvbkZvcihlKSwwLGUpO3RoaXMubGVuZ3RoPXRoaXMuZWxlbWVudHMubGVuZ3RofSx0LlNvcnRlZFNldC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRzLnNsaWNlKCl9LHQuU29ydGVkU2V0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5lbGVtZW50cy5tYXAodCxlKX0sdC5Tb3J0ZWRTZXQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5lbGVtZW50cy5mb3JFYWNoKHQsZSl9LHQuU29ydGVkU2V0LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5lbGVtZW50cy5sZW5ndGgsaT1uLWUscj1lK01hdGguZmxvb3IoaS8yKSxvPXRoaXMuZWxlbWVudHNbcl07aT4xOyl7aWYobz09PXQpcmV0dXJuIHI7dD5vJiYoZT1yKSxvPnQmJihuPXIpLGk9bi1lLHI9ZStNYXRoLmZsb29yKGkvMiksbz10aGlzLmVsZW1lbnRzW3JdfXJldHVybiBvPT09dD9yOi0xfSx0LlNvcnRlZFNldC5wcm90b3R5cGUubG9jYXRpb25Gb3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmVsZW1lbnRzLmxlbmd0aCxpPW4tZSxyPWUrTWF0aC5mbG9vcihpLzIpLG89dGhpcy5lbGVtZW50c1tyXTtpPjE7KXQ+byYmKGU9ciksbz50JiYobj1yKSxpPW4tZSxyPWUrTWF0aC5mbG9vcihpLzIpLG89dGhpcy5lbGVtZW50c1tyXTtyZXR1cm4gbz50P3I6dD5vP3IrMTp2b2lkIDB9LHQuU29ydGVkU2V0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPW5ldyB0LlNvcnRlZFNldCxpPTAscj0wLG89dGhpcy5sZW5ndGgscz1lLmxlbmd0aCxhPXRoaXMuZWxlbWVudHMsaD1lLmVsZW1lbnRzOzspe2lmKGk+by0xfHxyPnMtMSlicmVhazthW2ldIT09aFtyXT9hW2ldPGhbcl0/aSsrOmFbaV0+aFtyXSYmcisrOihuLmFkZChhW2ldKSxpKysscisrKX1yZXR1cm4gbn0sdC5Tb3J0ZWRTZXQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQuU29ydGVkU2V0O3JldHVybiBlLmVsZW1lbnRzPXRoaXMudG9BcnJheSgpLGUubGVuZ3RoPWUuZWxlbWVudHMubGVuZ3RoLGV9LHQuU29ydGVkU2V0LnByb3RvdHlwZS51bmlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLGk7dGhpcy5sZW5ndGg+PXQubGVuZ3RoPyhlPXRoaXMsbj10KTooZT10LG49dGhpcyksaT1lLmNsb25lKCk7Zm9yKHZhciByPTAsbz1uLnRvQXJyYXkoKTtyPG8ubGVuZ3RoO3IrKylpLmFkZChvW3JdKTtyZXR1cm4gaX0sdC5Tb3J0ZWRTZXQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvQXJyYXkoKX0sdC5JbmRleD1mdW5jdGlvbigpe3RoaXMuX2ZpZWxkcz1bXSx0aGlzLl9yZWY9XCJpZFwiLHRoaXMucGlwZWxpbmU9bmV3IHQuUGlwZWxpbmUsdGhpcy5kb2N1bWVudFN0b3JlPW5ldyB0LlN0b3JlLHRoaXMudG9rZW5TdG9yZT1uZXcgdC5Ub2tlblN0b3JlLHRoaXMuY29ycHVzVG9rZW5zPW5ldyB0LlNvcnRlZFNldCx0aGlzLmV2ZW50RW1pdHRlcj1uZXcgdC5FdmVudEVtaXR0ZXIsdGhpcy50b2tlbml6ZXJGbj10LnRva2VuaXplcix0aGlzLl9pZGZDYWNoZT17fSx0aGlzLm9uKFwiYWRkXCIsXCJyZW1vdmVcIixcInVwZGF0ZVwiLGZ1bmN0aW9uKCl7dGhpcy5faWRmQ2FjaGU9e319LmJpbmQodGhpcykpfSx0LkluZGV4LnByb3RvdHlwZS5vbj1mdW5jdGlvbigpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyLmFwcGx5KHRoaXMuZXZlbnRFbWl0dGVyLHQpfSx0LkluZGV4LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIodCxlKX0sdC5JbmRleC5sb2FkPWZ1bmN0aW9uKGUpe2UudmVyc2lvbiE9PXQudmVyc2lvbiYmdC51dGlscy53YXJuKFwidmVyc2lvbiBtaXNtYXRjaDogY3VycmVudCBcIit0LnZlcnNpb24rXCIgaW1wb3J0aW5nIFwiK2UudmVyc2lvbik7dmFyIG49bmV3IHRoaXM7cmV0dXJuIG4uX2ZpZWxkcz1lLmZpZWxkcyxuLl9yZWY9ZS5yZWYsbi50b2tlbml6ZXI9dC50b2tlbml6ZXIubG9hZChlLnRva2VuaXplciksbi5kb2N1bWVudFN0b3JlPXQuU3RvcmUubG9hZChlLmRvY3VtZW50U3RvcmUpLG4udG9rZW5TdG9yZT10LlRva2VuU3RvcmUubG9hZChlLnRva2VuU3RvcmUpLG4uY29ycHVzVG9rZW5zPXQuU29ydGVkU2V0LmxvYWQoZS5jb3JwdXNUb2tlbnMpLG4ucGlwZWxpbmU9dC5QaXBlbGluZS5sb2FkKGUucGlwZWxpbmUpLG59LHQuSW5kZXgucHJvdG90eXBlLmZpZWxkPWZ1bmN0aW9uKHQsZSl7dmFyIGU9ZXx8e30sbj17bmFtZTp0LGJvb3N0OmUuYm9vc3R8fDF9O3JldHVybiB0aGlzLl9maWVsZHMucHVzaChuKSx0aGlzfSx0LkluZGV4LnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlZj10LHRoaXN9LHQuSW5kZXgucHJvdG90eXBlLnRva2VuaXplcj1mdW5jdGlvbihlKXt2YXIgbj1lLmxhYmVsJiZlLmxhYmVsIGluIHQudG9rZW5pemVyLnJlZ2lzdGVyZWRGdW5jdGlvbnM7cmV0dXJuIG58fHQudXRpbHMud2FybihcIkZ1bmN0aW9uIGlzIG5vdCBhIHJlZ2lzdGVyZWQgdG9rZW5pemVyLiBUaGlzIG1heSBjYXVzZSBwcm9ibGVtcyB3aGVuIHNlcmlhbGlzaW5nIHRoZSBpbmRleFwiKSx0aGlzLnRva2VuaXplckZuPWUsdGhpc30sdC5JbmRleC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsbil7dmFyIGk9e30scj1uZXcgdC5Tb3J0ZWRTZXQsbz1lW3RoaXMuX3JlZl0sbj12b2lkIDA9PT1uPyEwOm47dGhpcy5fZmllbGRzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dGhpcy5waXBlbGluZS5ydW4odGhpcy50b2tlbml6ZXJGbihlW3QubmFtZV0pKTtpW3QubmFtZV09bjtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHM9bltvXTtyLmFkZChzKSx0aGlzLmNvcnB1c1Rva2Vucy5hZGQocyl9fSx0aGlzKSx0aGlzLmRvY3VtZW50U3RvcmUuc2V0KG8scik7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe2Zvcih2YXIgYT1yLmVsZW1lbnRzW3NdLGg9MCx1PTA7dTx0aGlzLl9maWVsZHMubGVuZ3RoO3UrKyl7dmFyIGw9dGhpcy5fZmllbGRzW3VdLGM9aVtsLm5hbWVdLGY9Yy5sZW5ndGg7aWYoZil7Zm9yKHZhciBkPTAscD0wO2Y+cDtwKyspY1twXT09PWEmJmQrKztoKz1kL2YqbC5ib29zdH19dGhpcy50b2tlblN0b3JlLmFkZChhLHtyZWY6byx0ZjpofSl9biYmdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcImFkZFwiLGUsdGhpcyl9LHQuSW5kZXgucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRbdGhpcy5fcmVmXSxlPXZvaWQgMD09PWU/ITA6ZTtpZih0aGlzLmRvY3VtZW50U3RvcmUuaGFzKG4pKXt2YXIgaT10aGlzLmRvY3VtZW50U3RvcmUuZ2V0KG4pO3RoaXMuZG9jdW1lbnRTdG9yZS5yZW1vdmUobiksaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMudG9rZW5TdG9yZS5yZW1vdmUodCxuKX0sdGhpcyksZSYmdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcInJlbW92ZVwiLHQsdGhpcyl9fSx0LkluZGV4LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgZT12b2lkIDA9PT1lPyEwOmU7dGhpcy5yZW1vdmUodCwhMSksdGhpcy5hZGQodCwhMSksZSYmdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcInVwZGF0ZVwiLHQsdGhpcyl9LHQuSW5kZXgucHJvdG90eXBlLmlkZj1mdW5jdGlvbih0KXt2YXIgZT1cIkBcIit0O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9pZGZDYWNoZSxlKSlyZXR1cm4gdGhpcy5faWRmQ2FjaGVbZV07dmFyIG49dGhpcy50b2tlblN0b3JlLmNvdW50KHQpLGk9MTtyZXR1cm4gbj4wJiYoaT0xK01hdGgubG9nKHRoaXMuZG9jdW1lbnRTdG9yZS5sZW5ndGgvbikpLHRoaXMuX2lkZkNhY2hlW2VdPWl9LHQuSW5kZXgucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbihlKXt2YXIgbj10aGlzLnBpcGVsaW5lLnJ1bih0aGlzLnRva2VuaXplckZuKGUpKSxpPW5ldyB0LlZlY3RvcixyPVtdLG89dGhpcy5fZmllbGRzLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0K2UuYm9vc3R9LDApLHM9bi5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRva2VuU3RvcmUuaGFzKHQpfSx0aGlzKTtpZighcylyZXR1cm5bXTtuLmZvckVhY2goZnVuY3Rpb24oZSxuLHMpe3ZhciBhPTEvcy5sZW5ndGgqdGhpcy5fZmllbGRzLmxlbmd0aCpvLGg9dGhpcyx1PXRoaXMudG9rZW5TdG9yZS5leHBhbmQoZSkucmVkdWNlKGZ1bmN0aW9uKG4scil7dmFyIG89aC5jb3JwdXNUb2tlbnMuaW5kZXhPZihyKSxzPWguaWRmKHIpLHU9MSxsPW5ldyB0LlNvcnRlZFNldDtpZihyIT09ZSl7dmFyIGM9TWF0aC5tYXgoMyxyLmxlbmd0aC1lLmxlbmd0aCk7dT0xL01hdGgubG9nKGMpfW8+LTEmJmkuaW5zZXJ0KG8sYSpzKnUpO2Zvcih2YXIgZj1oLnRva2VuU3RvcmUuZ2V0KHIpLGQ9T2JqZWN0LmtleXMoZikscD1kLmxlbmd0aCx2PTA7cD52O3YrKylsLmFkZChmW2Rbdl1dLnJlZik7cmV0dXJuIG4udW5pb24obCl9LG5ldyB0LlNvcnRlZFNldCk7ci5wdXNoKHUpfSx0aGlzKTt2YXIgYT1yLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LmludGVyc2VjdChlKX0pO3JldHVybiBhLm1hcChmdW5jdGlvbih0KXtyZXR1cm57cmVmOnQsc2NvcmU6aS5zaW1pbGFyaXR5KHRoaXMuZG9jdW1lbnRWZWN0b3IodCkpfX0sdGhpcykuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBlLnNjb3JlLXQuc2NvcmV9KX0sdC5JbmRleC5wcm90b3R5cGUuZG9jdW1lbnRWZWN0b3I9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPXRoaXMuZG9jdW1lbnRTdG9yZS5nZXQoZSksaT1uLmxlbmd0aCxyPW5ldyB0LlZlY3RvcixvPTA7aT5vO28rKyl7dmFyIHM9bi5lbGVtZW50c1tvXSxhPXRoaXMudG9rZW5TdG9yZS5nZXQocylbZV0udGYsaD10aGlzLmlkZihzKTtyLmluc2VydCh0aGlzLmNvcnB1c1Rva2Vucy5pbmRleE9mKHMpLGEqaCl9cmV0dXJuIHJ9LHQuSW5kZXgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt2ZXJzaW9uOnQudmVyc2lvbixmaWVsZHM6dGhpcy5fZmllbGRzLHJlZjp0aGlzLl9yZWYsdG9rZW5pemVyOnRoaXMudG9rZW5pemVyRm4ubGFiZWwsZG9jdW1lbnRTdG9yZTp0aGlzLmRvY3VtZW50U3RvcmUudG9KU09OKCksdG9rZW5TdG9yZTp0aGlzLnRva2VuU3RvcmUudG9KU09OKCksY29ycHVzVG9rZW5zOnRoaXMuY29ycHVzVG9rZW5zLnRvSlNPTigpLHBpcGVsaW5lOnRoaXMucGlwZWxpbmUudG9KU09OKCl9fSx0LkluZGV4LnByb3RvdHlwZS51c2U9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2UudW5zaGlmdCh0aGlzKSx0LmFwcGx5KHRoaXMsZSl9LHQuU3RvcmU9ZnVuY3Rpb24oKXt0aGlzLnN0b3JlPXt9LHRoaXMubGVuZ3RoPTB9LHQuU3RvcmUubG9hZD1mdW5jdGlvbihlKXt2YXIgbj1uZXcgdGhpcztyZXR1cm4gbi5sZW5ndGg9ZS5sZW5ndGgsbi5zdG9yZT1PYmplY3Qua2V5cyhlLnN0b3JlKS5yZWR1Y2UoZnVuY3Rpb24obixpKXtyZXR1cm4gbltpXT10LlNvcnRlZFNldC5sb2FkKGUuc3RvcmVbaV0pLG59LHt9KSxufSx0LlN0b3JlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmhhcyh0KXx8dGhpcy5sZW5ndGgrKyx0aGlzLnN0b3JlW3RdPWV9LHQuU3RvcmUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdG9yZVt0XX0sdC5TdG9yZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluIHRoaXMuc3RvcmV9LHQuU3RvcmUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLmhhcyh0KSYmKGRlbGV0ZSB0aGlzLnN0b3JlW3RdLHRoaXMubGVuZ3RoLS0pfSx0LlN0b3JlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57c3RvcmU6dGhpcy5zdG9yZSxsZW5ndGg6dGhpcy5sZW5ndGh9fSx0LnN0ZW1tZXI9ZnVuY3Rpb24oKXt2YXIgdD17YXRpb25hbDpcImF0ZVwiLHRpb25hbDpcInRpb25cIixlbmNpOlwiZW5jZVwiLGFuY2k6XCJhbmNlXCIsaXplcjpcIml6ZVwiLGJsaTpcImJsZVwiLGFsbGk6XCJhbFwiLGVudGxpOlwiZW50XCIsZWxpOlwiZVwiLG91c2xpOlwib3VzXCIsaXphdGlvbjpcIml6ZVwiLGF0aW9uOlwiYXRlXCIsYXRvcjpcImF0ZVwiLGFsaXNtOlwiYWxcIixpdmVuZXNzOlwiaXZlXCIsZnVsbmVzczpcImZ1bFwiLG91c25lc3M6XCJvdXNcIixhbGl0aTpcImFsXCIsaXZpdGk6XCJpdmVcIixiaWxpdGk6XCJibGVcIixsb2dpOlwibG9nXCJ9LGU9e2ljYXRlOlwiaWNcIixhdGl2ZTpcIlwiLGFsaXplOlwiYWxcIixpY2l0aTpcImljXCIsaWNhbDpcImljXCIsZnVsOlwiXCIsbmVzczpcIlwifSxuPVwiW15hZWlvdV1cIixpPVwiW2FlaW91eV1cIixyPW4rXCJbXmFlaW91eV0qXCIsbz1pK1wiW2FlaW91XSpcIixzPVwiXihcIityK1wiKT9cIitvK3IsYT1cIl4oXCIrcitcIik/XCIrbytyK1wiKFwiK28rXCIpPyRcIixoPVwiXihcIityK1wiKT9cIitvK3IrbytyLHU9XCJeKFwiK3IrXCIpP1wiK2ksbD1uZXcgUmVnRXhwKHMpLGM9bmV3IFJlZ0V4cChoKSxmPW5ldyBSZWdFeHAoYSksZD1uZXcgUmVnRXhwKHUpLHA9L14oLis/KShzc3xpKWVzJC8sdj0vXiguKz8pKFtec10pcyQvLGc9L14oLis/KWVlZCQvLG09L14oLis/KShlZHxpbmcpJC8seT0vLiQvLFM9LyhhdHxibHxpeikkLyx3PW5ldyBSZWdFeHAoXCIoW15hZWlvdXlsc3pdKVxcXFwxJFwiKSxrPW5ldyBSZWdFeHAoXCJeXCIrcitpK1wiW15hZWlvdXd4eV0kXCIpLHg9L14oLis/W15hZWlvdV0peSQvLGI9L14oLis/KShhdGlvbmFsfHRpb25hbHxlbmNpfGFuY2l8aXplcnxibGl8YWxsaXxlbnRsaXxlbGl8b3VzbGl8aXphdGlvbnxhdGlvbnxhdG9yfGFsaXNtfGl2ZW5lc3N8ZnVsbmVzc3xvdXNuZXNzfGFsaXRpfGl2aXRpfGJpbGl0aXxsb2dpKSQvLEU9L14oLis/KShpY2F0ZXxhdGl2ZXxhbGl6ZXxpY2l0aXxpY2FsfGZ1bHxuZXNzKSQvLEY9L14oLis/KShhbHxhbmNlfGVuY2V8ZXJ8aWN8YWJsZXxpYmxlfGFudHxlbWVudHxtZW50fGVudHxvdXxpc218YXRlfGl0aXxvdXN8aXZlfGl6ZSkkLyxfPS9eKC4rPykoc3x0KShpb24pJC8sej0vXiguKz8pZSQvLE89L2xsJC8sUD1uZXcgUmVnRXhwKFwiXlwiK3IraStcIlteYWVpb3V3eHldJFwiKSxUPWZ1bmN0aW9uKG4pe3ZhciBpLHIsbyxzLGEsaCx1O2lmKG4ubGVuZ3RoPDMpcmV0dXJuIG47aWYobz1uLnN1YnN0cigwLDEpLFwieVwiPT1vJiYobj1vLnRvVXBwZXJDYXNlKCkrbi5zdWJzdHIoMSkpLHM9cCxhPXYscy50ZXN0KG4pP249bi5yZXBsYWNlKHMsXCIkMSQyXCIpOmEudGVzdChuKSYmKG49bi5yZXBsYWNlKGEsXCIkMSQyXCIpKSxzPWcsYT1tLHMudGVzdChuKSl7dmFyIFQ9cy5leGVjKG4pO3M9bCxzLnRlc3QoVFsxXSkmJihzPXksbj1uLnJlcGxhY2UocyxcIlwiKSl9ZWxzZSBpZihhLnRlc3Qobikpe3ZhciBUPWEuZXhlYyhuKTtpPVRbMV0sYT1kLGEudGVzdChpKSYmKG49aSxhPVMsaD13LHU9ayxhLnRlc3Qobik/bis9XCJlXCI6aC50ZXN0KG4pPyhzPXksbj1uLnJlcGxhY2UocyxcIlwiKSk6dS50ZXN0KG4pJiYobis9XCJlXCIpKX1pZihzPXgscy50ZXN0KG4pKXt2YXIgVD1zLmV4ZWMobik7aT1UWzFdLG49aStcImlcIn1pZihzPWIscy50ZXN0KG4pKXt2YXIgVD1zLmV4ZWMobik7aT1UWzFdLHI9VFsyXSxzPWwscy50ZXN0KGkpJiYobj1pK3Rbcl0pfWlmKHM9RSxzLnRlc3Qobikpe3ZhciBUPXMuZXhlYyhuKTtpPVRbMV0scj1UWzJdLHM9bCxzLnRlc3QoaSkmJihuPWkrZVtyXSl9aWYocz1GLGE9XyxzLnRlc3Qobikpe3ZhciBUPXMuZXhlYyhuKTtpPVRbMV0scz1jLHMudGVzdChpKSYmKG49aSl9ZWxzZSBpZihhLnRlc3Qobikpe3ZhciBUPWEuZXhlYyhuKTtpPVRbMV0rVFsyXSxhPWMsYS50ZXN0KGkpJiYobj1pKX1pZihzPXoscy50ZXN0KG4pKXt2YXIgVD1zLmV4ZWMobik7aT1UWzFdLHM9YyxhPWYsaD1QLChzLnRlc3QoaSl8fGEudGVzdChpKSYmIWgudGVzdChpKSkmJihuPWkpfXJldHVybiBzPU8sYT1jLHMudGVzdChuKSYmYS50ZXN0KG4pJiYocz15LG49bi5yZXBsYWNlKHMsXCJcIikpLFwieVwiPT1vJiYobj1vLnRvTG93ZXJDYXNlKCkrbi5zdWJzdHIoMSkpLG59O3JldHVybiBUfSgpLHQuUGlwZWxpbmUucmVnaXN0ZXJGdW5jdGlvbih0LnN0ZW1tZXIsXCJzdGVtbWVyXCIpLHQuZ2VuZXJhdGVTdG9wV29yZEZpbHRlcj1mdW5jdGlvbih0KXt2YXIgZT10LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdPWUsdH0se30pO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdCYmZVt0XSE9PXQ/dDp2b2lkIDB9fSx0LnN0b3BXb3JkRmlsdGVyPXQuZ2VuZXJhdGVTdG9wV29yZEZpbHRlcihbXCJhXCIsXCJhYmxlXCIsXCJhYm91dFwiLFwiYWNyb3NzXCIsXCJhZnRlclwiLFwiYWxsXCIsXCJhbG1vc3RcIixcImFsc29cIixcImFtXCIsXCJhbW9uZ1wiLFwiYW5cIixcImFuZFwiLFwiYW55XCIsXCJhcmVcIixcImFzXCIsXCJhdFwiLFwiYmVcIixcImJlY2F1c2VcIixcImJlZW5cIixcImJ1dFwiLFwiYnlcIixcImNhblwiLFwiY2Fubm90XCIsXCJjb3VsZFwiLFwiZGVhclwiLFwiZGlkXCIsXCJkb1wiLFwiZG9lc1wiLFwiZWl0aGVyXCIsXCJlbHNlXCIsXCJldmVyXCIsXCJldmVyeVwiLFwiZm9yXCIsXCJmcm9tXCIsXCJnZXRcIixcImdvdFwiLFwiaGFkXCIsXCJoYXNcIixcImhhdmVcIixcImhlXCIsXCJoZXJcIixcImhlcnNcIixcImhpbVwiLFwiaGlzXCIsXCJob3dcIixcImhvd2V2ZXJcIixcImlcIixcImlmXCIsXCJpblwiLFwiaW50b1wiLFwiaXNcIixcIml0XCIsXCJpdHNcIixcImp1c3RcIixcImxlYXN0XCIsXCJsZXRcIixcImxpa2VcIixcImxpa2VseVwiLFwibWF5XCIsXCJtZVwiLFwibWlnaHRcIixcIm1vc3RcIixcIm11c3RcIixcIm15XCIsXCJuZWl0aGVyXCIsXCJub1wiLFwibm9yXCIsXCJub3RcIixcIm9mXCIsXCJvZmZcIixcIm9mdGVuXCIsXCJvblwiLFwib25seVwiLFwib3JcIixcIm90aGVyXCIsXCJvdXJcIixcIm93blwiLFwicmF0aGVyXCIsXCJzYWlkXCIsXCJzYXlcIixcInNheXNcIixcInNoZVwiLFwic2hvdWxkXCIsXCJzaW5jZVwiLFwic29cIixcInNvbWVcIixcInRoYW5cIixcInRoYXRcIixcInRoZVwiLFwidGhlaXJcIixcInRoZW1cIixcInRoZW5cIixcInRoZXJlXCIsXCJ0aGVzZVwiLFwidGhleVwiLFwidGhpc1wiLFwidGlzXCIsXCJ0b1wiLFwidG9vXCIsXCJ0d2FzXCIsXCJ1c1wiLFwid2FudHNcIixcIndhc1wiLFwid2VcIixcIndlcmVcIixcIndoYXRcIixcIndoZW5cIixcIndoZXJlXCIsXCJ3aGljaFwiLFwid2hpbGVcIixcIndob1wiLFwid2hvbVwiLFwid2h5XCIsXCJ3aWxsXCIsXCJ3aXRoXCIsXCJ3b3VsZFwiLFwieWV0XCIsXCJ5b3VcIixcInlvdXJcIl0pLHQuUGlwZWxpbmUucmVnaXN0ZXJGdW5jdGlvbih0LnN0b3BXb3JkRmlsdGVyLFwic3RvcFdvcmRGaWx0ZXJcIiksdC50cmltbWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL15cXFcrLyxcIlwiKS5yZXBsYWNlKC9cXFcrJC8sXCJcIil9LHQuUGlwZWxpbmUucmVnaXN0ZXJGdW5jdGlvbih0LnRyaW1tZXIsXCJ0cmltbWVyXCIpLHQuVG9rZW5TdG9yZT1mdW5jdGlvbigpe3RoaXMucm9vdD17ZG9jczp7fX0sdGhpcy5sZW5ndGg9MH0sdC5Ub2tlblN0b3JlLmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHRoaXM7cmV0dXJuIGUucm9vdD10LnJvb3QsZS5sZW5ndGg9dC5sZW5ndGgsZX0sdC5Ub2tlblN0b3JlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBuPW58fHRoaXMucm9vdCxpPXQuY2hhckF0KDApLHI9dC5zbGljZSgxKTtyZXR1cm4gaSBpbiBufHwobltpXT17ZG9jczp7fX0pLDA9PT1yLmxlbmd0aD8obltpXS5kb2NzW2UucmVmXT1lLHZvaWQodGhpcy5sZW5ndGgrPTEpKTp0aGlzLmFkZChyLGUsbltpXSl9LHQuVG9rZW5TdG9yZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO2Zvcih2YXIgZT10aGlzLnJvb3Qsbj0wO248dC5sZW5ndGg7bisrKXtpZighZVt0LmNoYXJBdChuKV0pcmV0dXJuITE7ZT1lW3QuY2hhckF0KG4pXX1yZXR1cm4hMH0sdC5Ub2tlblN0b3JlLnByb3RvdHlwZS5nZXROb2RlPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybnt9O2Zvcih2YXIgZT10aGlzLnJvb3Qsbj0wO248dC5sZW5ndGg7bisrKXtpZighZVt0LmNoYXJBdChuKV0pcmV0dXJue307ZT1lW3QuY2hhckF0KG4pXX1yZXR1cm4gZX0sdC5Ub2tlblN0b3JlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXROb2RlKHQsZSkuZG9jc3x8e319LHQuVG9rZW5TdG9yZS5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5nZXQodCxlKSkubGVuZ3RofSx0LlRva2VuU3RvcmUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe2lmKHQpe2Zvcih2YXIgbj10aGlzLnJvb3QsaT0wO2k8dC5sZW5ndGg7aSsrKXtpZighKHQuY2hhckF0KGkpaW4gbikpcmV0dXJuO249blt0LmNoYXJBdChpKV19ZGVsZXRlIG4uZG9jc1tlXX19LHQuVG9rZW5TdG9yZS5wcm90b3R5cGUuZXhwYW5kPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXROb2RlKHQpLGk9bi5kb2NzfHx7fSxlPWV8fFtdO3JldHVybiBPYmplY3Qua2V5cyhpKS5sZW5ndGgmJmUucHVzaCh0KSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe1wiZG9jc1wiIT09biYmZS5jb25jYXQodGhpcy5leHBhbmQodCtuLGUpKX0sdGhpcyksZX0sdC5Ub2tlblN0b3JlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57cm9vdDp0aGlzLnJvb3QsbGVuZ3RoOnRoaXMubGVuZ3RofX0sZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUoKTp0Lmx1bnI9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0oKTsiLCJmdW5jdGlvbiBoYXNDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbC5jbGFzc0xpc3QpXG4gICAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpXG4gIGVsc2VcbiAgICByZXR1cm4gISFlbC5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cCgnKFxcXFxzfF4pJyArIGNsYXNzTmFtZSArICcoXFxcXHN8JCknKSlcbn1cblxuZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICBpZiAoZWwuY2xhc3NMaXN0KVxuICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKVxuICBlbHNlIGlmICghaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkpIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIGNsYXNzTmFtZVxufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbC5jbGFzc0xpc3QpXG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpXG4gIGVsc2UgaWYgKGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpKSB7XG4gICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJyhcXFxcc3xeKScgKyBjbGFzc05hbWUgKyAnKFxcXFxzfCQpJylcbiAgICBlbC5jbGFzc05hbWU9ZWwuY2xhc3NOYW1lLnJlcGxhY2UocmVnLCAnICcpXG4gIH1cbn1cblxudmFyIG5hdkNsaWNrRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoIWhhc0NsYXNzKHRoaXMsICdpcy1hY3RpdmUnKSkge1xuICAgICAgYWRkQ2xhc3ModGhpcywgJ2lzLWFjdGl2ZScpO1xuICAgICAgYWRkQ2xhc3MoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvZHknKSwgJ2lzLWFjdGl2ZScpO1xuICAgICAgYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2ZpeGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICdmaXhlZCcpO1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcywgJ2lzLWFjdGl2ZScpO1xuICAgICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvZHknKSwgJ2lzLWFjdGl2ZScpO1xuICAgIH1cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxudmFyIHJlbW92ZU9wZW5DbGFzc2VzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2ZpeGVkJyk7XG4gIHJlbW92ZUNsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtdG9nZ2xlJyksICdpcy1hY3RpdmUnKTtcbiAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvZHknKSwgJ2lzLWFjdGl2ZScpO1xufVxuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LXRvZ2dsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2Q2xpY2tFdmVudEhhbmRsZXIpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlbW92ZU9wZW5DbGFzc2VzKTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLW5hdicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlT3BlbkNsYXNzZXMpO1xuIl19
